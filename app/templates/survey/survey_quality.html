<!-- Extiende el layout la barra de navegacion y 
las scripts necesarios -->
{% extends 'layout.html' %}
{% block content %}
<!-- Muestras los flash, mensajes o notificaciones -->
{% with messages = get_flashed_messages(with_categories=true) %}
{% if messages %}
{% for category, msg in messages %}
<br />
<!-- Alertas, revibe el mensaje y la categoria-->
<div class="alert alert-{{category}} alert-dismissable">
    <button type="button" class="close" data-dismiss="alert">&times;</button>
    {{ msg }}
</div>
{% endfor %}
{% endif %}
{% endwith %}
<br />
<h2>Encuesta de Satisfaccion</h2>
<br>
<!-- Formulario de Encuesta-->
<form method="POST" class="needs-validation" novalidate>
    <!-- Primer Fila de Encuesta-->
    <div class="form-row">
        <div class="form-group col-sm-12">
            <!-- Tabla que contiene el membreteado -->
            <table class="table table-bordered" style="width: 98%;">
                <caption></caption>
                <th scope="col" style="text-align: center; text-align: center;">
                    <img src="https://i.imgur.com/xifoKDB.png"
                        alt="LogoEmpresa"
                        style="min-width: 100px; width: 80%; max-width: 150px; text-align: center;" />
                </th>
                <th scope="col" style="text-align: center; vertical-align: middle;">
                    <p style="font-size: large;">Encuesta de Satisfaccion</p>
                </th>
                <th scope="col" style="text-align: center; vertical-align: middle;">
                    <p style="font-size: medium;">{{ date }}</p>
                </th>
            </table>
        </div>
    </div>
    <!-- Segunda fila-->
    <div class="form-row">
        <!-- Enunciado de Encuesta-->
        <div class="form-group col-sm-12">
            <p style="font-size: 30; text-align: center; vertical-align: middle;">
                Para nosotros es muy importante conocer su opinión acerca de nuestros servicios. Agradecemos tome un
                poco de su tiempo y diligencie esta forma. La valoración de su respuesta nos indicará como mejorar
                nuestro servicio.</p>
        </div>
    </div>
    <!-- Tercera fila
    Inicio Preguntas-->
    <div class="form-row">
        <!-- Primer Pregunta-->
        <div class="form-group col-sm-12">
            <label class="form-control-label" style="text-align: justify;">1.&nbsp;¿Cómo fue la atención desde el primer
                contacto por parte de LA CASA DEL TURISMO?</label>
        </div>
        <!-- Radio button
        Primer Opcion Primer Pregunta-->
        <div class="form-group col-sm-4">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion1P1" name="pregunta1" value="Excelente"
                    required>
                <label class="custom-control-label" for="opcion1P1">Excelente</label>
                <span class="invalid-feedback">Debe indicar una calificacion</span>
            </div>
        </div>
        <!-- Segunda Opcion Primer Pregunta-->
        <div class="form-group col-sm-4">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion2P1" name="pregunta1" value="Bueno" required>
                <label class="custom-control-label" for="opcion2P1">Bueno</label>
            </div>
        </div>
        <!-- Tercera Opcion Primer Pregunta-->
        <div class="form-group col-sm-4">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion3P1" name="pregunta1" value="Malo" required>
                <label class="custom-control-label" for="opcion3P1">Malo</label>
            </div>
        </div>
        <!-- Final de Primer Pregunta -->
    </div>
    <!-- Cuarta fila-->
    <div class="form-row">
        <!-- Segunda Pregunta-->
        <div class="form-group col-sm-12">
            <label class="form-control-label" style="text-align: justify;">2.&nbsp;¿Cómo considera el tiempo en que le
                dieron respuesta a su solicitud?</label>
        </div>
        <!-- Primer Opcion Segunda Pregunta-->
        <div class="form-group col-sm-4">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion1P2" name="pregunta2" value="Excelente"
                    required>
                <label class="custom-control-label" for="opcion1P2">Excelente</label>
                <span class="invalid-feedback">Debe indicar una calificacion</span>
            </div>
        </div>
        <!-- Segunda Opcion Segunda Pregunta-->
        <div class="form-group col-sm-4">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion2P2" name="pregunta2" value="Bueno" required>
                <label class="custom-control-label" for="opcion2P2">Bueno</label>
            </div>
        </div>
        <!-- Tercera Opcion Segunda Pregunta-->
        <div class="form-group col-sm-4">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion3P2" name="pregunta2" value="Malo" required>
                <label class="custom-control-label" for="opcion3P2">Malo</label>
            </div>
        </div>
        <!-- Final Segunda Pregunta-->
    </div>
    <!-- Quinta Fila-->
    <div class="form-row">
        <!-- Tercera Pregunta
        Dividida en Servicios-->
        <div class="form-group col-sm-12">
            <label class="form-control-label" style="text-align: justify;">3.&nbsp;Califique los servicios contratados
                por usted:</label>
        </div>
        <!-- Primer Servicio Tercera Pregunta-->
        <div class="form-group col-sm-3">
            <label class="form-control-label" style="text-align: justify;">Alojamiento
            </label>
        </div>
        <!-- Primer Opcion Primer Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion1P3" name="pregunta3" value="Excelente"
                    required>
                <label class="custom-control-label" for="opcion1P3">Excelente</label>
                <span class="invalid-feedback">Debe indicar una calificacion</span>
            </div>
        </div>
        <!-- Segunda Opcion Primer Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion2P3" name="pregunta3" value="Bueno" required>
                <label class="custom-control-label" for="opcion2P3">Bueno</label>
            </div>
        </div>
        <!-- Tercera Opcion Primer Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion3P3" name="pregunta3" value="Malo" required>
                <label class="custom-control-label" for="opcion3P3">Malo</label>
            </div>
        </div>
        <!-- Cuarta Opcion Primer Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion4P3" name="pregunta3" value="N/A" required>
                <label class="custom-control-label" for="opcion4P3">N/A</label>
            </div>
        </div>
        <!-- Final Primer Servico -->
        <!-- Segundo Servicio Tercera Pregunta-->
        <div class="form-group col-sm-3">
            <label class="form-control-label" style="text-align: justify;">Alimentación:</label>
        </div>
        <!-- Primer Opcion Segundo Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion1P4" name="pregunta4" value="Excelente"
                    required>
                <label class="custom-control-label" for="opcion1P4">Excelente</label>
                <span class="invalid-feedback">Debe indicar una calificacion</span>
            </div>
        </div>
        <!-- Segunda Opcion Segundo Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion2P4" name="pregunta4" value="Bueno" required>
                <label class="custom-control-label" for="opcion2P4">Bueno</label>
            </div>
        </div>
        <!-- Tercera Opcion Segunda Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion3P4" name="pregunta4" value="Malo" required>
                <label class="custom-control-label" for="opcion3P4">Malo</label>
            </div>
        </div>
        <!-- Cuarta opcion Segundo Servicio Tercera pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion4P4" name="pregunta4" value="N/A" required>
                <label class="custom-control-label" for="opcion4P4">N/A</label>
            </div>
        </div>
        <!-- Final Segundo Servicio -->
        <!-- Tercer Servicio Tercera Pregunta-->
        <div class="form-group col-sm-3">
            <label class="form-control-label" style="text-align: justify;">Transporte:</label>
        </div>
        <!-- Primer Opcion Tercer Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion1P5" name="pregunta5" value="Excelente"
                    required>
                <label class="custom-control-label" for="opcion1P5">Excelente</label>
                <span class="invalid-feedback">Debe indicar una calificacion</span>
            </div>
        </div>
        <!-- Segunda Opcion Tercer Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion2P5" name="pregunta5" value="Bueno" required>
                <label class="custom-control-label" for="opcion2P5">Bueno</label>
            </div>
        </div>
        <!-- Tercera Opcion Tercer Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion3P5" name="pregunta5" value="Malo" required>
                <label class="custom-control-label" for="opcion3P5">Malo</label>
            </div>
        </div>
        <!-- Cuarta Opcion Tercer Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion4P5" name="pregunta5" value="N/A" required>
                <label class="custom-control-label" for="opcion4P5">N/A</label>
            </div>
        </div>
        <!-- Final Tercer Servicio -->
        <!-- Cuarto Servicio Tercer Pregunta-->
        <div class="form-group col-sm-3">
            <label class="form-control-label" style="text-align: justify;">Guía acompañante:</label>
        </div>
        <!-- Primer Opcion Cuarto Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion1P6" name="pregunta6" value="Excelente"
                    required>
                <label class="custom-control-label" for="opcion1P6">Excelente</label>
                <span class="invalid-feedback">Debe indicar una calificacion</span>
            </div>
        </div>
        <!-- Segunda Opcion Cuarto Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion2P6" name="pregunta6" value="Bueno" required>
                <label class="custom-control-label" for="opcion2P6">Bueno</label>
            </div>
        </div>
        <!-- Tercera Opcion Cuarto Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion3P6" name="pregunta6" value="Malo" required>
                <label class="custom-control-label" for="opcion3P6">Malo</label>
            </div>
        </div>
        <!-- Cuarta Opcion Cuarto Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion4P6" name="pregunta6" value="N/A" required>
                <label class="custom-control-label" for="opcion4P6">N/A</label>
            </div>
        </div>
        <!-- Final Cuarto Servicio -->
        <!-- Quinto Servicio -->
        <div class="form-group col-sm-3">
            <label class="form-control-label" style="text-align: justify;">Panaca:</label>
        </div>
        <!-- Primer Opcion Quinto Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion1P7" name="pregunta7" value="Excelente"
                    required>
                <label class="custom-control-label" for="opcion1P7">Excelente</label>
                <span class="invalid-feedback">Debe indicar una calificacion</span>
            </div>
        </div>
        <!-- Segunda Opcion Quinto Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion2P7" name="pregunta7" value="Bueno" required>
                <label class="custom-control-label" for="opcion2P7">Bueno</label>
            </div>
        </div>
        <!-- Tercera Opcion Quinto Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion3P7" name="pregunta7" value="Malo" required>
                <label class="custom-control-label" for="opcion3P7">Malo</label>
            </div>
        </div>
        <!-- Cuarta Opcion Quinto Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion4P7" name="pregunta7" value="N/A" required>
                <label class="custom-control-label" for="opcion4P7">N/A</label>
            </div>
        </div>
        <!-- Final Quinto Servicio -->
        <!-- Sexto Servicio -->
        <div class="form-group col-sm-3">
            <label class="form-control-label" style="text-align: justify;">Parque del Café:</label>
        </div>
        <!-- Primer Opcion Sexto Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion1P8" name="pregunta8" value="Excelente"
                    required>
                <label class="custom-control-label" for="opcion1P8">Excelente</label>
                <span class="invalid-feedback">Debe indicar una calificacion</span>
            </div>
        </div>
        <!-- Segunda Opcion Sexto Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion2P8" name="pregunta8" value="Bueno" required>
                <label class="custom-control-label" for="opcion2P8">Bueno</label>
            </div>
        </div>
        <!-- Tercera Opcion Sexto Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion3P8" name="pregunta8" value="Malo" required>
                <label class="custom-control-label" for="opcion3P8">Malo</label>
            </div>
        </div>
        <!-- Cuarta Opcion Sexto Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-radio">
                <input type="radio" class="custom-control-input" id="opcion4P8" name="pregunta8" value="N/A" required>
                <label class="custom-control-label" for="opcion4P8">N/A</label>
            </div>
        </div>
        <!-- Final Sexto Servicio -->
        <!-- Septimo Servicio -->
        <!-- Chekbox Septimo Servicio Tercera Pregunta-->
        <div class="form-group col-sm-2">
            <div class="custom-control custom-checkbox ">
                <input type="checkbox" class="custom-control-input" id="opcion3P9" name="opcion3P9"
                    onclick="otrasOpciones(event);">
                <label class="custom-control-label" for="opcion3P9">Otros ¿Cual?:</label>
                <span class="invalid-feedback">Debe indicar una calificacion</span>
            </div>
        </div>
        <!-- Introducir Servicio -->
        <div class="form-group col-sm-3">
            <input type="text" class="form-control" name="pregunta9" id="opcion1P9" for="opcion1P9"
                placeholder="Ingrese otro Servicio" value="" hidden>
        </div>
        <!-- Seleccion ComboBox-->
        <div class="form-group col-sm-3">
            <select name='pregunta10' id='opcion2P9' class="form-control" hidden>
                <option selected value="">Seleccione...</option>
                <option value="Excelente">Excelente</option>
                <option value="Bueno">Bueno</option>
                <option value="Malo">Malo</option>
            </select>
        </div>
        <!-- Final Septimo Servicio -->
        <!-- Tercera Pregunta-->
    </div>
    <!-- Sexta fila -->
    <div class="form-row">
        <!-- Octava Pregunta-->
        <div class="form-group col-sm-6">
            <label class="form-control-label" style="text-align: justify;">4.&nbsp;¿Los servicios brindados
                ¿correspondieron a lo ofrecido?</label>
        </div>
        <!--Primer Opcion Octava Pregunta-->
        <div class="form-group col-sm-3">
            <div class="custom-control custom-checkbox">
                <input type="radio" class="custom-control-input" id="opcion1P11" name="pregunta11" value="Si"
                    onclick="negar1(event);" required>
                <label class="custom-control-label" for="opcion1P11">Si</label>
                <span class="invalid-feedback">Debe indicar una calificacion</span>
            </div>
        </div>
        <!-- Segunda Opcion Octava Pregunta-->
        <div class="form-group col-sm-3">
            <div class="custom-control custom-checkbox">
                <input type="radio" class="custom-control-input" id="opcion2P12" name="pregunta11" value="No"
                    onclick="negar1(event);" required>
                <label class="custom-control-label" for="opcion2P12">No</label>
            </div>
        </div>
        <!-- Explicacion Osctava Pregunta -->
        <div class="form-group col-sm-12">
            <label form="opcion3P12">Si su respuesta fue negativa por favor explique brevemente la razón:</label>
            <input type="text" class="form-control" name="pregunta12" id="opcion3P12" for="opcion3P12"
                placeholder="Explique brevemente la razón" hidden>
        </div>
        <!-- Final de Octava Pregunta -->
    </div>
    <!-- Septima Fila-->
    <div class="form-row">
        <!-- Novena Pregunta-->
        <div class="form-group col-sm-6">
            <label class="form-control-label" style="text-align: justify;">5.&nbsp;¿Considera que el personal que lo
                atendió es competente?</label>
        </div>
        <!--Primer Opcion Novena Pregunta-->
        <div class="form-group col-sm-3">
            <div class="custom-control custom-checkbox">
                <input type="radio" class="custom-control-input" id="opcion1P13" name="pregunta13" value="Si"
                    onclick="negar(event);" required>
                <label class="custom-control-label" for="opcion1P13">Si</label>
                <span class="invalid-feedback">Debe indicar una calificacion</span>
            </div>
        </div>
        <!-- Segunda Opcion Novena Pregunta-->
        <div class="form-group col-sm-3">
            <div class="custom-control custom-checkbox">
                <input type="radio" class="custom-control-input" id="opcion2P13" name="pregunta13" value="No"
                    onclick="negar(event);" required>
                <label class="custom-control-label" for="opcion2P13">No</label>
            </div>
        </div>
        <!-- Explicacion Novena Pregunta -->
        <div class="form-group col-sm-12">
            <label form="opcion3P14">Si su respuesta fue negativa por favor explique brevemente la razón:</label>
            <input type="text" class="form-control" name="pregunta14" id="opcion3P14" for="opcion3P14"
                placeholder="Explique brevemente la razón" hidden>
        </div>
        <!-- Final de Novena Pregunta -->
    </div>
    <!-- Octava Fila-->
    <div class="form-row">
        <!-- Decima Pregunta-->
        <!-- Explicacion Decima Pregunta -->
        <div class="form-group col-sm-12">
            <label class="form-control-label" style="text-align: justify;">6.&nbsp;¿Cuales aspectos se podrían
                mejorar?</label>
            <input type="text" class="form-control" name="pregunta15" id="opcion3P15" for="opcion3P15"
                placeholder="Explique brevemente la razón">
        </div>
        <!-- Final de Decima Pregunta -->
    </div>
    <div class="form-row">
        <div class="form-group">
            <button type="submit" id="acept" class="btn btn-sm btn-success">
                Aceptar
                <span class="fas fa-check"></span>
            </button>
            <button onclick="document.location.href='/'" class="btn btn-sm btn-danger">
                Cancelar
                <span class="far fa-times-circle"></span>
            </button>
        </div>
    </div>
</form>

<script>
    function otrasOpciones(event) {
        if ($('#opcion3P9').is(":checked")) {
            //Si hay otros mostrar input y select
            $('#opcion1P9').attr('hidden', false);
            $('#opcion1P9').val("");
            $('#opcion1P9').attr('required', true);
            $('#opcion2P9').attr('hidden', false);
            $('#opcion2P9').val("");
            $('#opcion2P9').attr('required', true);

        } else {
            //Si no hay otros ocultamos input y select
            $('#opcion1P9').attr('hidden', true);
            $('#opcion1P9').val("");
            $('#opcion1P9').attr('required', false);
            $('#opcion2P9').attr('hidden', true);
            $('#opcion2P9').val("");
            $('#opcion2P9').attr('required', false);
        }
    }//end function
    // Si hay respuestas negadas
    function negar1(event) {
        //Afirmacion de la pregunta11
        if ($('#opcion1P11').is(":checked")) {
            //Si no es negado ocultamos
            $('#opcion3P12').attr('hidden', true);
            $('#opcion3P12').val('');
            $('#opcion3P12').attr('required', false);
        }
        //Negacion de la pregunta11
        if ($('#opcion2P12').is(":checked")) {
            //Si es negado mostramos
            $('#opcion3P12').attr('hidden', false);
            $('#opcion3P12').val('');
            $('#opcion3P12').attr('required', true);
        }
    }//end function

    function negar(event) {
        // Afirmacion de la Pregunta 13
        if ($('#opcion1P13').is(":checked")) {
            //Si no es negado ocultamos
            $('#opcion3P14').attr('hidden', true);
            $('#opcion3P14').val('');
            $('#opcion3P14').attr('required', false);
        }
        //Negacion de la Pregunta 13
        if ($('#opcion2P13').is(":checked")) {
            //Si es negado mostramos
            $('#opcion3P14').attr('hidden', false);
            $('#opcion3P14').val('');
            $('#opcion3P14').attr('required', true);
        }
    }
</script>

{% endblock %}